(this["webpackJsonplearning-react"]=this["webpackJsonplearning-react"]||[]).push([[0],{104:function(e,t,a){e.exports=a(138)},109:function(e,t,a){},110:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=(a(109),a(110),a(28)),i=a(32),m=a(7),u=a(13),d=a(167),s=a(188),p=a(187),g=a(178),f=a(172),E=a(173),h=a(171),b=a(20),v=a.n(b),y=a(184);function w(){var e=r.a.useState(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=function(){c(!1)},o=Object(n.useState)({name:"",description:"",count:"",color:"",weight:"",image:""}),i=Object(u.a)(o,2),b=i[0],w=i[1];function x(e){var t=Object(m.a)({},b);t[e.target.id]=e.target.value,w(t),console.log(t)}var N={marginBottom:10,marginTop:10};return r.a.createElement("div",null,r.a.createElement(d.a,{className:"shadow-2xl btn-green",variant:"contained",color:"primary",onClick:function(){c(!0)}},"Add new product"),r.a.createElement(p.a,{open:a,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(y.a,{onSubmit:function(e){return function(e){e.preventDefault(),v.a.post("https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products",{name:b.name,description:b.description,count:b.count,color:b.color,weight:b.weight,image:b.image}).then((function(e){document.location.reload(),console.log(e.data)})).catch((function(e){console.log(e)})),w({name:"",description:"",count:"",color:"",weight:"",image:""})}(e)}},r.a.createElement(h.a,{id:"form-dialog-title"},"Add new product"),r.a.createElement(f.a,null,r.a.createElement(E.a,null,"Please, describe the product you want to add."),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.name,style:N,margin:"dense",id:"name",label:"Product name",type:"text",variant:"outlined",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.description,style:N,id:"description",label:"Product Description",type:"text",variant:"outlined",multiline:!0,rows:4,fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.count,style:N,margin:"dense",variant:"outlined",id:"count",label:"Count",type:"number",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.color,style:N,margin:"dense",variant:"outlined",id:"color",label:"Color",type:"text",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.weight,style:N,margin:"dense",variant:"outlined",id:"weight",label:"Weight in grams",type:"number",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return x(e)},value:b.image,style:N,margin:"dense",variant:"outlined",id:"image",label:"Image URL",type:"text",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:l,color:"primary"},"Cancel"),r.a.createElement(d.a,{onClick:l,color:"primary",type:"submit"},"Add product")))))}var x=function(){return r.a.createElement("header",{className:"border-b p-3 flex justify-between items-center bg-gray-300",style:{background:"#24292f"}},r.a.createElement(o.b,{to:"/",className:"ml-8",style:{fontSize:25,color:"#FFFFFF"}},"Product List"),r.a.createElement(w,null))};var N=function(){return r.a.createElement("footer",{className:"bg-gray-200 text-center text-xs p-3 absolute bottom-0 w-full border-t"},"inforce test task")};var C=function(){return r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("div",{className:"loader"}))},k=a(56),j=a.n(k);var O=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",null,c?r.a.createElement("div",{className:"border bg-gray-300 hover:bg-gray-400 shadow hover:shadow-2xl mb-4 rounded overflow-hidden"},r.a.createElement(o.b,{to:"/products/".concat(e.product.id)},r.a.createElement("div",{style:{backgroundImage:"url('".concat(e.product.image,"')"),width:280,height:260},className:"w-full h-64 bg-blue bg-cover"})),r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",{className:"font-bold text-xl mb-3"},r.a.createElement(o.b,{to:"/products/".concat(e.product.id)},e.product.name)),r.a.createElement("div",{className:"font-bold mb-3"},"Count: ",e.product.count),r.a.createElement("div",{className:"mb-3 italic"},e.product.description.length>25?"".concat(e.product.description.substring(0,25),"..."):e.product.description),r.a.createElement(o.b,{to:"/products/".concat(e.product.id),className:"btn-green text-white p-2 flex justify-center w-full rounded-t"},"View"),r.a.createElement(d.a,{className:"btn-warning",onClick:function(t){v.a.delete("https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products/".concat(e.product.id)).then((function(e){return console.log(e.data)})),l(!1)},variant:"contained",color:"secondary",startIcon:r.a.createElement(j.a,null),fullWidth:!0},"delete"))):r.a.createElement("div",{className:"border bg-gray-300 hover:bg-gray-400 shadow mb-4 rounded overflow-hidden text-center pt-32",style:{height:470}},r.a.createElement("h1",{className:"font-bold text-xl mb-3"},"Product was successfully deleted")))};function W(e){var t=Object(n.useState)({loading:!1,data:null,error:!1}),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){c({loading:!0,data:null,error:!1}),v.a.get(e).then((function(e){c({loading:!1,data:e.data,error:!1})})).catch((function(){c({loading:!1,data:null,error:!0})}))}),[e]),r}var S=a(179),P=a(190),A=a(177),I=a(176),T=a(185),D=Object(S.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function F(e){var t=D(),a=[e.sortType,e.setSortType],n=a[0],c=a[1];return r.a.createElement(I.a,{className:t.formControl},r.a.createElement(T.a,{value:n,onChange:function(e){c(e.target.value)},displayEmpty:!0,className:t.selectEmpty,inputProps:{"aria-label":"Without label"}},r.a.createElement(P.a,{value:"asc"},"Count asc"),r.a.createElement(P.a,{value:"desc"},"Count desc"),r.a.createElement(P.a,{value:"a-z"},"Name A-Z"),r.a.createElement(P.a,{value:"z-a"},"Name Z-A")),r.a.createElement(A.a,null,"Sort by"))}var z=function(){var e=W("https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products?page=1&limit=20"),t=Object(n.useState)("asc"),a=Object(u.a)(t,2),c=a[0],l=a[1],o=null;return e.error&&(o=r.a.createElement("div",null,r.a.createElement("div",{className:"bg-blue-300 mb-2 p-3"},"If you see this error. Please remember to create your own ",r.a.createElement("a",{href:"https://mockapi.io/"},"mock API"),"."),r.a.createElement("div",{className:"bg-red-300 p-3"},"There was an error please refresh or try again later."))),e.loading&&(o=r.a.createElement(C,null)),e.data&&("asc"===c?(e.data.sort((function(e,t){return e.count>t.count?1:-1})),o=e.data.map((function(e){return r.a.createElement("div",{key:e.id,className:"flex-no-shrink w-full md:w-1/4 md:px-3"},r.a.createElement(O,{product:e}))}))):"desc"===c?(e.data.sort((function(e,t){return e.count<t.count?1:-1})),o=e.data.map((function(e){return r.a.createElement("div",{key:e.id,className:"flex-no-shrink w-full md:w-1/4 md:px-3"},r.a.createElement(O,{product:e}))}))):"a-z"===c?(e.data.sort((function(e,t){return e.name>t.name?1:-1})),o=e.data.map((function(e){return r.a.createElement("div",{key:e.id,className:"flex-no-shrink w-full md:w-1/4 md:px-3"},r.a.createElement(O,{product:e}))}))):"z-a"===c&&(e.data.sort((function(e,t){return e.name<t.name?1:-1})),o=e.data.map((function(e){return r.a.createElement("div",{key:e.id,className:"flex-no-shrink w-full md:w-1/4 md:px-3"},r.a.createElement(O,{product:e}))})))),r.a.createElement("div",{className:"container mx-auto pt-6 pl-10 pr-10 rounded shadow-xl",style:{minHeight:900,backgroundColor:"#f6f8fa"}},r.a.createElement("h1",{className:"font-bold text-2xl mb-3"},"Best Sellers"),r.a.createElement(F,{sortType:c,setSortType:l}),r.a.createElement("div",{className:"md:flex flex-wrap md:-mx-3"},o))},B=a(182),H=a(140),L=a(183);function G(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],o=function(){l(!1)},i=Object(n.useState)({name:e.product.name,description:e.product.description,count:e.product.count,color:e.product.color,weight:e.product.weight,image:e.product.image,comments:e.product.comments}),b=Object(u.a)(i,2),w=b[0],x=b[1],N="https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products/".concat(e.product.id);function C(e){var t=Object(m.a)({},w);t[e.target.id]=e.target.value,x(t),console.log(t)}var k={marginBottom:10,marginTop:10};return r.a.createElement("div",null,r.a.createElement(d.a,{className:"btn-green shadow",variant:"contained",color:"primary",onClick:function(){l(!0)}},"Edit product"),r.a.createElement(p.a,{open:c,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(y.a,{onSubmit:function(e){return function(e){e.preventDefault(),v.a.put(N,{name:w.name,description:w.description,count:w.count,color:w.color,weight:w.weight,image:w.image}).then((function(e){document.location.reload(),console.log(e.data)}))}(e)}},r.a.createElement(h.a,{id:"form-dialog-title"},"Edit product"),r.a.createElement(f.a,null,r.a.createElement(E.a,null,"Please, edit the fields that you need."),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.name,style:k,margin:"dense",id:"name",label:"Product name",type:"text",variant:"outlined",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.description,style:k,id:"description",label:"Product Description",type:"text",variant:"outlined",multiline:!0,rows:4,fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.count,style:k,margin:"dense",variant:"outlined",id:"count",label:"Count",type:"number",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.color,style:k,margin:"dense",variant:"outlined",id:"color",label:"Color",type:"text",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.weight,style:k,margin:"dense",variant:"outlined",id:"weight",label:"Weight in grams",type:"number",fullWidth:!0}),r.a.createElement(s.a,{onChange:function(e){return C(e)},value:w.image,style:k,margin:"dense",variant:"outlined",id:"image",label:"Image URL",type:"text",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(d.a,{onClick:o,color:"primary",type:"submit"},"Edit product")))))}var J=a(18),R=a(180),U=a(181);function Z(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],o=function(){l(!1)},i=Object(n.useState)(""),m=Object(u.a)(i,2),E=m[0],b=m[1],w="https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products/".concat(e.product.id);return r.a.createElement("div",null,r.a.createElement(d.a,{className:"btn-green shadow",variant:"contained",color:"primary",onClick:function(){l(!0)}},"Add new comment"),r.a.createElement(p.a,{open:c,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(y.a,{onSubmit:function(t){return function(t){t.preventDefault(),v.a.put(w,{comments:[].concat(Object(J.a)(e.product.comments),[E])}).then((function(e){document.location.reload(),console.log(e.data)})).catch((function(e){console.log(e)})),b("")}(t)}},r.a.createElement(h.a,{id:"form-dialog-title"},"Comment"),r.a.createElement(f.a,null,r.a.createElement(s.a,{onChange:function(e){return function(e){b(e.target.value)}(e)},value:E,style:{marginBottom:10,marginTop:10,width:500},id:"description",label:"Please, write your comment",type:"text",variant:"outlined",multiline:!0,rows:4,autoFocus:!0,fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(d.a,{onClick:o,color:"primary",type:"submit"},"Add comment")))))}function V(e){var t=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{minHeight:450,padding:e.spacing(2),textAlign:"center",alignItems:"center"}}}))();var a=e.comments.map((function(t,a){return r.a.createElement(R.a,{key:a,className:"shadow",style:{minHeight:50,margin:20,background:"#f6f7f8"}},r.a.createElement("p",{className:"p-5 italic"},t),r.a.createElement(U.a,{className:"inline-block",onClick:function(t){!function(t,a){t.preventDefault(),Object(J.a)(e.product.comments.splice(a,1)),v.a.put("https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products/".concat(e.product.id),{comments:Object(J.a)(e.product.comments)}).then((function(e){document.location.reload(),console.log(e.data)})).catch((function(e){console.log(e)}))}(t,a)},"aria-label":"delete"},r.a.createElement(j.a,null)))}));return r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(H.a,{className:t.paper},r.a.createElement("h1",{className:"text-2xl font-bold mb-2"},"Comments"),r.a.createElement(L.a,{variant:"middle"}),a,r.a.createElement(Z,{product:e.product})))}var $=function(){var e=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{height:450,padding:e.spacing(2),textAlign:"left",paddingLeft:25,fontSize:"1.2rem"}}}))(),t=Object(i.f)().id,a=W("https://6135dcd860d2900017c3c1c0.mockapi.io/api/v1/products/".concat(t)),n=null;return a.error&&(n=r.a.createElement("div",null,r.a.createElement("div",{className:"bg-blue-300 mb-2 p-3"},"If you see this error. Please remember to create your own ",r.a.createElement("a",{href:"https://mockapi.io/"},"mock API"),"."),r.a.createElement("div",{className:"bg-red-300 p-3"},"There was an error please refresh or try again later."))),a.loading&&(n=r.a.createElement(C,null)),a.data&&(n=r.a.createElement("div",{className:"container mx-auto pt-6 pl-10 pr-10 bg-gray-200 rounded",style:{minHeight:1e3}},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(H.a,{className:e.paper},r.a.createElement("img",{className:"rounded",src:a.data.image,alt:a.data.name,style:{float:"left"}}))),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(H.a,{className:e.paper},r.a.createElement("h1",{className:"text-2xl font-bold mb-3"},a.data.name),r.a.createElement(L.a,null),r.a.createElement("div",{className:"pt-3"},"Count: ",a.data.count),r.a.createElement("div",{className:"pt-1"},"Description: ",a.data.description),r.a.createElement("div",{className:"pt-1"},"Color: ",a.data.color),r.a.createElement("div",{className:"pt-1 pb-3"},"Weight: ",a.data.weight," g"),r.a.createElement(G,{product:a.data}))),r.a.createElement(V,{comments:a.data.comments,product:a.data})))),r.a.createElement("div",{className:"container mx-auto"},n)};var q=function(){return r.a.createElement("div",{className:"relative pb-10 min-h-screen"},r.a.createElement(o.a,null,r.a.createElement(x,null),r.a.createElement("div",{className:"p-3"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(z,null)),r.a.createElement(i.a,{path:"/products/:id"},r.a.createElement($,null)))),r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.3415e3c6.chunk.js.map